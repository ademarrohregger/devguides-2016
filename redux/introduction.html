<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><link rel="stylesheet" href="../assets/style.css"><link rel="prefetch" href="actions"><link rel="prerender" href="actions"><link rel="next" href="actions"><title>Introduction - Redux</title></head><body class="-chapter"><div class="book-nav"><div class="nav-button"></div></div><div class="chapter-nav"><a href=".">Redux</a><span>Introduction</span></div><div id="body" class="markdown-body -literate"><div class="page-section"><div class="container"><h5 class="chapter-prelude"><a href="/" class="root">devguides.io</a><span> / </span><a href="." class="book">Redux</a></h5><h1 id="redux">Redux</h1>
<p><a href="http://redux.js.org/">Redux</a> is used to manage data in a React application. Using redux means you create a <em>store</em> that a React app listens to.</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>

<span class="hljs-keyword">var</span> store = createStore(<span class="hljs-ellipsis"></span>)
</code></pre>
<blockquote class="up-next">
<p>What's a store? <a href="#stores">Next</a></p>
</blockquote>
</div></div><div class="page-section"><div class="container">
<h1 id="stores">Stores</h1>
<p>Think of a store as a bunch of data. In fact, you may have already done this: the example here is a plain JS object that stores data.</p>
<pre><code class="language-js"><span class="hljs-keyword">var</span> album = {
  title: <span class="hljs-string">'Kind of Blue'</span>,
  artist: <span class="hljs-string">'Miles Davis'</span>,
  year: <span class="hljs-number">1959</span>
}
</code></pre>
<hr>
<p>You can read and write data into a plain JS object. You can do the same in Redux, but just a little differently.</p>
<iframe class='example-frame' src='examples/intro-simple-read' seamless></iframe>
<blockquote class="up-next">
<p>How would you do that in Redux? <a href="#our-first-store">Next</a></p>
</blockquote>
</div></div><div class="page-section"><div class="container">
<h1 id="our-first-store">Our first store</h1>
<p>Stores are created using <code>createStore()</code>.</p>
<pre><code class="language-js"><span class="hljs-line -mute"><span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span> </span>

<span class="hljs-keyword">var</span> reducer = <span class="hljs-ellipsis"></span>
<span class="hljs-keyword">var</span> store = <span class="hljs-highlight">createStore(reducer, album)</span>
</code></pre>
<hr>
<p>You can read from a store by checking its <em>state</em> using <code>getState()</code>.
Writing data works a bit different, though. That's where <code>reducer</code> comes in.</p>
<iframe class='example-frame' src='examples/intro-first-store' seamless></iframe>
<blockquote class="see-also">
<p><span>Also see:</span> <a href="http://redux.js.org/docs/basics/Actions.html">createStore docs</a></p>
</blockquote>
<blockquote class="up-next">
<p>How do you write to a store? <a href="#updating-the-store">Next</a></p>
</blockquote>
</div></div><div class="page-section"><div class="container">
<h1 id="updating-the-store">Updating the store</h1>
<p>You can't change the store's state from outside the store. To do that, you'll need to create actions. Actions are made through <em>reducer functions</em>, which is used by <code>createStore()</code>.</p>
<pre><code class="language-js"><span class="hljs-line -mute"><span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span> </span>

<span class="hljs-keyword">var</span> store = createStore(<span class="hljs-highlight">reducer</span>, article)

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reducer</span> (<span class="hljs-params">state, action</span>) </span>{
  <span class="hljs-keyword">if</span> (action.type === <span class="hljs-string">'PUBLISH'</span>) {
    <span class="hljs-keyword">return</span> { ...state, published: <span class="hljs-literal">true</span> }
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> state
  }
}
</code></pre>
<p>Reducers take the current state and return a new one. How it changes the store depends on <code>action</code>.</p>
<hr>
<p>To run an action, use <code>dispatch()</code>. This changes the store's <em>state</em>.</p>
<iframe class='example-frame' src='examples/intro-updating' seamless></iframe>
<blockquote class="see-also">
<p><span>Also see:</span> <a href="http://redux.js.org/docs/basics/Reducers.html">Reducer docs</a></p>
</blockquote>
<blockquote class="up-next">
<p>What does <code>...state</code> mean? <a href="#spread-operator">Next</a></p>
</blockquote>
</div></div><div class="page-section"><div class="container">
<h1 id="the-spread-operator">The spread operator</h1>
<p>The <code>...</code> symbol is the <em>object spread operator</em>. It's available in Babel and in the 2017 version of JavaScript.
These two are roughly equivalent.</p>
<pre><code class="language-js"><span class="hljs-keyword">return</span> { <span class="hljs-highlight">...state</span>, published: <span class="hljs-literal">true</span> }<span class="hljs-hr"></span>
<span class="hljs-keyword">return</span> {
  <span class="hljs-highlight">title: state.title,</span>
  <span class="hljs-highlight">body: state.body,</span>
  published: <span class="hljs-literal">true</span>
}
</code></pre>
<blockquote>
<p>The contents of <code>state</code> is rolled out in place of <code>...state</code>.</p>
</blockquote>
<!--
var state = { name: 'John', age: 3 }
inspect({ ...state, published: true })
-->
<blockquote class="see-also">
<p><span>Also see:</span> <a href="http://redux.js.org/docs/recipes/UsingObjectSpreadOperator.html">Object spread docs</a></p>
</blockquote>
<blockquote class="up-next">
<p>Let's learn more about actions. <a href="#dispatching-actions">Next</a></p>
</blockquote>
</div></div><div class="page-section"><div class="container">
<h1 id="dispatching-actions">Dispatching actions</h1>
<p>The only way to change the store's state is by dispatching actions. You can then easily make a log of what actions have happened, or even undo them.</p>
<iframe class='example-frame' src='examples/intro-dispatching' seamless></iframe>
<hr>
<p>You can also listen for changes in the store using <code>subscribe()</code>.</p>
<iframe class='example-frame' src='examples/intro-subscribe' seamless></iframe>
<blockquote class="up-next">
<p>Let's recap what we've learned. <a href="#recap">Next</a></p>
</blockquote>
</div></div><div class="page-section"><div class="container">
<h1 id="recap">Recap</h1>
<p><strong>Stores</strong> are made from reducer functions.</p>
<pre><code class="language-js"><span class="hljs-line -mute"><span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span> </span>
store = createStore(reducer, {<span class="hljs-placeholder">initial state</span>})
</code></pre>
<hr>
<p><strong>Actions</strong> are dispatched to the reducer.</p>
<pre><code class="language-js">store.dispatch(<span class="hljs-highlight">{ type: <span class="hljs-string">'PUBLISH'</span> }</span>)
</code></pre>
<hr>
<p><strong>Reducers</strong> tell us how to change a <code>state</code> based on an <code>action</code>.</p>
<pre><code class="language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reducer</span> (<span class="hljs-params">state, action</span>) </span>{
  <span class="hljs-keyword">if</span> <span class="hljs-highlight">(action.type === <span class="hljs-string">'PUBLISH'</span>)</span> {
    <span class="hljs-keyword">return</span> { ...state, published: <span class="hljs-literal">true</span> }
  }
  <span class="hljs-keyword">return</span> state
}
</code></pre>
<hr>
<p><strong>States:</strong> the store keeps a state, and you can listen for updates using <code>subscribe()</code>.</p>
<pre><code class="language-js"><span class="hljs-highlight">store.getState()</span>.published
store.subscribe(() =&gt; { <span class="hljs-ellipsis"></span> })
</code></pre>
<blockquote class="up-next">
<p>Let's learn more about actions. <a href="actions">Next</a></p>
</blockquote>
</div></div></div><script src="../assets/common.min.js"></script><script src="../assets/script.min.js"></script><script>if (window.location.hostname.indexOf('devguides.io') > -1) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga')
  ga('create', 'UA-79044901-1', 'auto')
  ga('send', 'pageview')
}</script></body></html>